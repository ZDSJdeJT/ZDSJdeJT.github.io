---
import { Section } from '@/components/section';
import { useTranslations, type Lang } from '@/i18n';

const currentLocale = Astro.currentLocale as Lang;

const t = useTranslations(currentLocale);

type Item = {
  company: string;
  website?: string;
  position: string;
  startDate: string;
  endDate: string;
  responsibilities: string[];
};

const workExperienceList: Item[] = [
  {
    company: t({
      en: 'Jiangsu Juzhe Technology Co., Ltd.',
      'zh-cn': 'æ±Ÿè‹å·¨æ³½ç§‘æŠ€æœ‰é™å…¬å¸',
    }),
    position: t({
      en: 'Frontend Developer',
      'zh-cn': 'å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ',
    }),
    startDate: new Date('2021/12').toLocaleDateString(currentLocale, {
      year: 'numeric',
      month: 'long',
    }),
    endDate: new Date('2022/05').toLocaleDateString(currentLocale, {
      year: 'numeric',
      month: 'long',
    }),
    responsibilities: [
      t({
        en: 'Led the frontend development of the e-commerce project <strong>"Dai Xiang Er"</strong>, which included a backend management system for merchants and a mobile application for users. The project was built using <strong>Vue 2</strong> and <strong>React Native</strong>.',
        'zh-cn':
          'è´Ÿè´£äº†ç”µå•†é¡¹ç›®â€œå¸¦å“å„¿â€çš„å‰ç«¯å¼€å‘ï¼Œè¯¥é¡¹ç›®åŒ…æ‹¬ä¾›å•†å®¶ä½¿ç”¨çš„åå°ç®¡ç†ç³»ç»Ÿä»¥åŠä¾›ç”¨æˆ·ä½¿ç”¨çš„ç§»åŠ¨ç«¯åº”ç”¨ã€‚é¡¹ç›®æŠ€æœ¯æ ˆä¸º<strong>Vue2</strong>å’Œ<strong>React Native</strong>ã€‚',
      }),
      t({
        en: 'Participated in the frontend development of the fitness project <strong>"Magic Mirror"</strong>, which consisted of a backend management system for operations staff and an Android application running on smart fitness equipment. The project was developed using <strong>Vue 3</strong> and <strong>React Native</strong>. My primary responsibility was integrating smart fitness hardware via serial communication using <strong>Java</strong> (native Android) to obtain user resistance data, which was then transmitted to <strong>React Native</strong> and rendered in real-time as interactive charts on the smart fitness device screen.',
        'zh-cn':
          'å‚ä¸äº†å¥èº«é¡¹ç›®â€œé­”é•œâ€çš„å‰ç«¯å¼€å‘ï¼Œè¯¥é¡¹ç›®åŒ…æ‹¬ä¾›è¿è¥äººå‘˜ä½¿ç”¨çš„åå°ç®¡ç†ç³»ç»Ÿä»¥åŠä¾›ç”¨æˆ·ä½¿ç”¨çš„åœ¨æ™ºèƒ½å¥èº«å™¨æä¸Šè¿è¡Œçš„å®‰å“åº”ç”¨ã€‚é¡¹ç›®æŠ€æœ¯æ ˆä¸º<strong>Vue3</strong>å’Œ<strong>React Native</strong>ã€‚æˆ‘ä¸»è¦è´Ÿè´£ä½¿ç”¨<strong>Java</strong>ï¼ˆåŸç”Ÿå®‰å“ï¼‰é€šè¿‡ä¸²å£é€šä¿¡å¯¹æ¥æ™ºèƒ½å¥èº«å™¨æç¡¬ä»¶ï¼Œè·å–ç”¨æˆ·çš„æ‹‰åŠ›æ•°æ®å¹¶å°†æ•°æ®ä¼ è¾“ç»™<strong>React Native</strong>ï¼Œæœ€åå°†æ•°æ®é€šè¿‡å›¾è¡¨çš„æ–¹å¼å®æ—¶ã€æµç•…åœ°æ¸²æŸ“åœ¨æ™ºèƒ½å¥èº«å™¨æçš„å±å¹•ä¸Šã€‚',
      }),
    ],
  },
  {
    company: t({
      en: 'Nanjing Zhiya Network Technology Co., Ltd. (a subsidiary of Baijiayun Group)',
      'zh-cn': 'å—äº¬èŒèŠ½ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸ï¼ˆéš¶å±äºç™¾å®¶äº‘é›†å›¢æœ‰é™å…¬å¸ï¼‰',
    }),
    website: 'https://www.yun88.com/product/3053.html',
    position: t({
      en: 'Frontend Developer',
      'zh-cn': 'å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ',
    }),
    startDate: new Date('2024/05').toLocaleDateString(currentLocale, {
      year: 'numeric',
      month: 'long',
    }),
    endDate: t({
      en: 'Present',
      'zh-cn': 'è‡³ä»Š',
    }),
    responsibilities: [
      t({
        en: 'Led the frontend development of the e-commerce project <strong>"Zhiya Welfare Campus"</strong>, which included a WeChat Mini Program for users, an Android tablet application for interview booths, and a backend management system for operations and merchants. The project utilized <strong>Vue 2</strong>, <strong>React Native</strong>, and <strong>native WeChat Mini Programs</strong>.',
        'zh-cn':
          'è´Ÿè´£äº†ç”µå•†é¡¹ç›®â€œèŒèŠ½ç¦åˆ©æ ¡å›­â€çš„å‰ç«¯å¼€å‘ï¼Œè¯¥é¡¹ç›®åŒ…æ‹¬ä¾›ç”¨æˆ·ä½¿ç”¨çš„å¾®ä¿¡å°ç¨‹åºã€é¢è¯•äº­å†…çš„å®‰å“å¹³æ¿åº”ç”¨å’Œä¾›è¿è¥äººå‘˜å’Œå•†æˆ·ä½¿ç”¨çš„åå°ç®¡ç†ç³»ç»Ÿã€‚é¡¹ç›®æŠ€æœ¯æ ˆä¸º<strong>Vue2</strong>ã€<strong>React Native</strong>å’Œ<strong>åŸç”Ÿå¾®ä¿¡å°ç¨‹åº</strong>ã€‚',
      }),
      t({
        en: 'Initiated and developed the internal tool project <strong>"Zhiya Helper"</strong>, a web-based application built with <strong>React</strong>. This tool is primarily used by in-house developers and some operations staff to streamline workflows and improve efficiency.',
        'zh-cn':
          'è´Ÿè´£äº†å·¥å…·é¡¹ç›®â€œèŒèŠ½å°å¸®æ‰‹â€çš„å‰ç«¯å¼€å‘ï¼Œè¯¥é¡¹ç›®çš„å¹³å°ä¸ºç½‘é¡µï¼ŒæŠ€æœ¯æ ˆä¸º<strong>React</strong>ï¼Œä¸»è¦ä¾›å…¬å¸å†…éƒ¨çš„å¼€å‘äººå‘˜å’Œéƒ¨åˆ†è¿è¥äººå‘˜ä½¿ç”¨ï¼Œç”±æˆ‘ä¸ªäººå‘èµ·ã€‚',
      }),
    ],
  },
];
---

<Section
  id="work-experience"
  title={t({
    en: 'Work Experience',
    'zh-cn': 'å·¥ä½œç»å†',
  })}
  subtitle="ğŸ’¼"
>
  <ol class="flex flex-col gap-4">
    {
      workExperienceList.map(
        ({
          company,
          website,
          position,
          startDate,
          endDate,
          responsibilities,
        }) => (
          <li class="flex flex-col gap-2">
            <div class="grid w-full grid-cols-1 gap-2 sm:grid-cols-3">
              <h3>
                {website ? (
                  <a
                    href={website}
                    target="_blank"
                    rel={
                      website.startsWith('http')
                        ? 'noopener noreferrer'
                        : undefined
                    }
                    class="underline print:no-underline"
                  >
                    <strong>{company}</strong>
                  </a>
                ) : (
                  <strong>{company}</strong>
                )}
              </h3>
              <span>{position}</span>
              <span>
                {startDate} - {endDate}
              </span>
            </div>
            <ol class="flex flex-col gap-1">
              {responsibilities.map((responsibility, index) => (
                <li set:html={`${index + 1}. ${responsibility}`} />
              ))}
            </ol>
          </li>
        ),
      )
    }
  </ol>
</Section>
